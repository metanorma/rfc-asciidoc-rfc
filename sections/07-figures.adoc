
[#figures]
== Figures

AsciiRFC examples (corresponding to RFC XML Figures), source code
Listings, and Literals (preformatted text) are all delimited blocks.
Listings and Literals can occur nested within Examples.

An AsciiRFC example with a figure is given in
<<source-asciirfc-figure>>, and its rendering in
<<source-asciirfc-figure-v3>>.

[[source-asciirfc-figure]]
.AsciiRFC With A Figure
[example]
--
[source,asciidoc]
------
.Figure 1
====
.figure1.txt
....
Figures are only permitted to contain listings
(sourcecode), images (artwork), or literal (artwork)

This is some ASCII Art:

 _____ ___ ____ _      _
|  ___|_ _/ ___| | ___| |_
| |_   | | |  _| |/ _ \ __|
|  _|  | | |_| | |  __/ |_
|_|   |___\____|_|\___|\__|
....

[source,ruby]
----
def listing(node)
  result = []
  if node.parent.context != :example
    result << "<figure>"
  end
end
------
====
--


[[source-asciirfc-figure-v3]]
.AsciiRFC With A Figure (RFC XML v3)
[example]
--
[source,xml]
----
<figure>
  <name>Figure 1</name>
  <artwork type="ascii-art" name="figure1.txt">
    Figures are only permitted to contain listings
    (sourcecode), images (artwork), or literal (artwork)

This is some ASCII Art:

 _____ ___ ____ _      _
|  ___|_ _/ ___| | ___| |_
| |_   | | |  _| |/ _ \ __|
|  _|  | | |_| | |  __/ |_
|_|   |___\____|_|\___|\__|</artwork>
  <sourcecode type="ruby">
    def listing(node)
      result = []
      if node.parent.context != :example
        result &lt;&lt; "&lt;figure&gt;"
      end
    end
  </sourcecode>
</figure>
----
--

If an AsciiRFC Listing or Literal occurs outside of an Example
(<<source-asciirfc-literal>>), the RFC XML converter will supply the
surrounding Figure element (<<source-asciirfc-literal-v3>>).

[[source-asciirfc-literal]]
.AsciiRFC With ASCII Art Without Figure Wrapping
[example]
--
[source,asciidoc]
----
....
This is some ASCII Art:

 _____ ___ ____ _      _
|  ___|_ _/ ___| | ___| |_
| |_   | | |  _| |/ _ \ __|
|  _|  | | |_| | |  __/ |_
|_|   |___\____|_|\___|\__|
....
----
--

[[source-asciirfc-literal-v3]]
.AsciiRFC With ASCII Art Without Figure Wrapping (RFC XML v3)
[example]
--
[source,xml]
----
<figure>
  <artwork type="ascii-art">This is some ASCII Art:

 _____ ___ ____ _      _
|  ___|_ _/ ___| | ___| |_
| |_   | | |  _| |/ _ \ __|
|  _|  | | |_| | |  __/ |_
|_|   |___\____|_|\___|\__|</artwork>
</figure>
----
--

